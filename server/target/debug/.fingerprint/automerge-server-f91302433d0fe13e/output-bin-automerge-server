{"$message_type":"diagnostic","message":"cannot borrow data in dereference of `tokio::sync::RwLockReadGuard<'_, AutoCommit>` as mutable","code":{"code":"E0596","explanation":"This error occurs because you tried to mutably borrow a non-mutable variable.\n\nErroneous code example:\n\n```compile_fail,E0596\nlet x = 1;\nlet y = &mut x; // error: cannot borrow mutably\n```\n\nIn here, `x` isn't mutable, so when we try to mutably borrow it in `y`, it\nfails. To fix this error, you need to make `x` mutable:\n\n```\nlet mut x = 1;\nlet y = &mut x; // ok!\n```\n"},"level":"error","spans":[{"file_name":"src/main.rs","byte_start":3940,"byte_end":3943,"line_start":126,"line_end":126,"column_start":28,"column_end":31,"is_primary":true,"text":[{"text":"                let data = doc.save();","highlight_start":28,"highlight_end":31}],"label":"cannot borrow as mutable","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"trait `DerefMut` is required to modify through a dereference, but it is not implemented for `tokio::sync::RwLockReadGuard<'_, AutoCommit>`","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror[E0596]\u001b[0m\u001b[1m: cannot borrow data in dereference of `tokio::sync::RwLockReadGuard<'_, AutoCommit>` as mutable\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0msrc/main.rs:126:28\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m126\u001b[0m \u001b[1m\u001b[94m|\u001b[0m                 let data = doc.save();\n    \u001b[1m\u001b[94m|\u001b[0m                            \u001b[1m\u001b[91m^^^\u001b[0m \u001b[1m\u001b[91mcannot borrow as mutable\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mhelp\u001b[0m: trait `DerefMut` is required to modify through a dereference, but it is not implemented for `tokio::sync::RwLockReadGuard<'_, AutoCommit>`\n\n"}
{"$message_type":"diagnostic","message":"unused import: `ReadDoc`","code":{"code":"unused_imports","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":48,"byte_end":55,"line_start":2,"line_end":2,"column_start":29,"column_end":36,"is_primary":true,"text":[{"text":"use automerge::{AutoCommit, ReadDoc};","highlight_start":29,"highlight_end":36}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unused import: `ReadDoc`\u001b[0m\n \u001b[1m\u001b[94m--> \u001b[0msrc/main.rs:2:29\n  \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m2\u001b[0m \u001b[1m\u001b[94m|\u001b[0m use automerge::{AutoCommit, ReadDoc};\n  \u001b[1m\u001b[94m|\u001b[0m                             \u001b[1m\u001b[33m^^^^^^^\u001b[0m\n  \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default\n\n"}
{"$message_type":"diagnostic","message":"unused variable: `sync_message`","code":{"code":"unused_variables","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":4406,"byte_end":4418,"line_start":140,"line_end":140,"column_start":39,"column_end":51,"is_primary":true,"text":[{"text":"        ClientMessage::Sync { doc_id, sync_message } => {","highlight_start":39,"highlight_end":51}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"try ignoring the field","code":null,"level":"help","spans":[{"file_name":"src/main.rs","byte_start":4406,"byte_end":4418,"line_start":140,"line_end":140,"column_start":39,"column_end":51,"is_primary":true,"text":[{"text":"        ClientMessage::Sync { doc_id, sync_message } => {","highlight_start":39,"highlight_end":51}],"label":null,"suggested_replacement":"sync_message: _","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: unused variable: `sync_message`\u001b[0m\n   \u001b[1m\u001b[94m--> \u001b[0msrc/main.rs:140:39\n    \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m140\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         ClientMessage::Sync { doc_id, sync_message } => {\n    \u001b[1m\u001b[94m|\u001b[0m                                       \u001b[1m\u001b[33m^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mhelp: try ignoring the field: `sync_message: _`\u001b[0m\n    \u001b[1m\u001b[94m|\u001b[0m\n    \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 1 previous error; 2 warnings emitted","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: aborting due to 1 previous error; 2 warnings emitted\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"For more information about this error, try `rustc --explain E0596`.","code":null,"level":"failure-note","spans":[],"children":[],"rendered":"\u001b[1mFor more information about this error, try `rustc --explain E0596`.\u001b[0m\n"}
